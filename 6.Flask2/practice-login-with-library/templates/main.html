{% extends 'base.html' %}

{% block content %}
{% with message = get_flashed_messages() %}
{% for msg in message %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
  <p>{{ msg }}</p>
  <button type="button" class="btn-close"></button>
</div>
{% endfor %}
{% endwith %}

{% if current_user.is_authenticated %}
<h1>안녕하세요 {{current_user.username}}님</h1>
<a href="/profile_edit">프로필 수정</a>
{% else %}
<h1>로그인</h1>
<form action="{{ url_for('login') }}" method="POST">
  <div class="mb-3">
    <label for="username" class="form-label">아이디: </label>
    <input type="text" class="form-control" name="username" required>
  </div>
  <div class="mb-3">
    <label for="password" class="form-label">비밀번호: </label>
    <input type="password" class="form-control" name="password" required>
  </div>
  <input type="submit" value="로그인" class="btn btn-primary">
</form>
{% endif %}

{% endblock %}